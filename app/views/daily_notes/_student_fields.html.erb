<tr class="nested-fields">
  <% present(f.object) do |student| %>
    <td>
      <%= sequence %>
      <%= f.hidden_field :id %>
      <%= f.hidden_field :active %>
      <%= f.hidden_field :_destroy, value: (student.exempted_from_discipline ? true : nil) %>
    </td>

    <td>
      <%= f.input :student_id, as: :hidden %>
      <span class="<%= student.student_name_class %>"><%= student.student_name %></span>
    </td>

    <td>
      <%= f.input(
        :note,
        label_html: { class: 'hidden' },
        input_html: {
          data: {
            inputmask: "'digits': #{student.number_of_decimal_places}"
          }
        },
        readonly: student.exempted || !student.active || student.exempted_from_discipline
      ) %>
    </td>
  <% end %>
</tr>
